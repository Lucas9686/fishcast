---
phase: 03-fish-catalog-expansion
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - fishing-app/data/fish-data.json
autonomous: true

must_haves:
  truths:
    - "fish-data.json contains at least 110 total species after this plan"
    - "All new entries have edibility object with rating, taste, texture, preparation, notes"
    - "All new entries have habitatDetail object with depthRange, region, structure"
    - "All new saltwater entries have category 'salzwasser' or 'meeresfruechte'"
    - "All new freshwater entries have correct category (raubfisch, friedfisch, salmonide)"
  artifacts:
    - path: "fishing-app/data/fish-data.json"
      provides: "110+ fish species including ~50 new Adriatic + freshwater entries"
      contains: "edibility"
  key_links:
    - from: "fishing-app/data/fish-data.json"
      to: "fishing-app/js/fish-ui.js"
      via: "JSON loaded and rendered as fish cards/details"
      pattern: "edibility"
---

<objective>
Add ~50 new fish species to fish-data.json (batch 1) and retrofit edibility data onto the existing 62 species.

Purpose: FISCH-01 requires 200+ species. This is the first of three data batches. Also satisfies FISCH-07 by adding edibility to existing entries.
Output: fish-data.json expanded from 62 to ~112 species, all entries (old and new) have edibility and habitatDetail fields.
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-fish-catalog-expansion/03-01-SUMMARY.md
@fishing-app/data/fish-data.json
@fishing-app/js/config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Retrofit edibility and habitatDetail onto all 62 existing fish entries</name>
  <files>fishing-app/data/fish-data.json</files>
  <action>
  Add `edibility` and `habitatDetail` objects to ALL 62 existing fish entries in fish-data.json. Each existing fish must receive:

  **edibility object:**
  - `rating`: 1-5 integer (1=nicht essbar/geschuetzt, 2=wenig geschaetzt, 3=essbar, 4=gut, 5=ausgezeichnet)
  - `taste`: one of "mild", "medium", "kraeftig", "stark"
  - `texture`: one of "zart", "fest", "mager", "fett"
  - `preparation`: array of 2-4 German preparation methods from: "Braten", "Grillen", "Raeuchern", "Daempfen", "Backen", "Kochen", "Im Ganzen backen", "Marinieren", "Frittieren", "D체nsten", "Roh (Sashimi)", "Einlegen"
  - `notes`: 1-2 sentence German culinary note, or null if nothing special

  **habitatDetail object:**
  - `depthRange`: string like "0-5m", "1-20m", "5-50m"
  - `region`: string like "Mitteleuropa", "Adria", "Mittelmeer", "Nordeuropa", "Gesamteuropa"
  - `structure`: array of 2-4 habitat structure preferences from: "Krautfelder", "Totholz", "Felsgrund", "Schilfguerttel", "Sandgrund", "Kiesgrund", "Seegras", "Freiwasser", "Muendungsbereiche", "Tiefe Rinnen", "Steilkanten", "Unterspuelungen", "Buhnen", "Stroemungskanten"

  Guidelines for edibility ratings:
  - 5 (ausgezeichnet): Wolfsbarsch, Goldbrasse, Zander, Steinbutt, Seezunge, Forellen
  - 4 (gut): Hecht, Karpfen, Makrele, Scholle, Dorsch, Barbe
  - 3 (essbar): Brachse, Rotauge, most common freshwater
  - 2 (wenig geschaetzt): Kaulbarsch, Gruendling, very small species
  - 1 (nicht essbar/geschuetzt): Strictly protected species (Huchen, Sterlet, Zingel, Streber)

  IMPORTANT: Maintain existing JSON structure exactly. Add edibility and habitatDetail as new properties at the end of each fish object (after "category"). Preserve all existing fields unchanged. Keep consistent null handling (use null, not undefined or empty string, when a value doesn't apply).

  Validate: JSON must remain valid (parseable). No trailing commas.
  </action>
  <verify>
  Run: `powershell -Command "(Get-Content 'fishing-app/data/fish-data.json' | ConvertFrom-Json).Count"` - should return 62 (no new species yet, just field additions).
  Run: `powershell -Command "(Get-Content 'fishing-app/data/fish-data.json' | ConvertFrom-Json) | Where-Object { $_.edibility -eq $null } | Measure-Object | Select-Object -ExpandProperty Count"` - should return 0 (all have edibility).
  </verify>
  <done>All 62 existing fish entries have edibility (rating, taste, texture, preparation, notes) and habitatDetail (depthRange, region, structure) fields. JSON is valid and parseable. No existing fields were modified.</done>
</task>

<task type="auto">
  <name>Task 2: Add ~50 new fish species (Adriatic saltwater + European freshwater batch 1)</name>
  <files>fishing-app/data/fish-data.json</files>
  <action>
  Add approximately 50 new fish species to fish-data.json. Target mix:
  - ~30 Adriatic/Mediterranean saltwater species (category: "salzwasser")
  - ~10 additional Meeresfr체chte (category: "meeresfruechte") - crabs, shrimp, mussels, clams
  - ~10 European freshwater species not yet covered (category: raubfisch/friedfisch/salmonide)

  **Adriatic saltwater suggestions** (not yet in data):
  Gestreifter Barsch (Spicara smaris), Marmor-Brasse (Lithognathus mormyrus), Grosser Bernsteinmakrele/Amberjack (Seriola dumerili), Schwertfisch (Xiphias gladius), Conger/Seeaal (Conger conger), Barrakuda (Sphyraena sphyraena), Lippfisch (Labrus merula), Drachenkopf (Scorpaena scrofa), Stoecher/Peterm채nnchen (Trachinus draco), Gestreifter Meerbarbe (Mullus surmuletus), Brauner Zackenbarsch (Epinephelus marginatus), Wrackbarsch (Polyprion americanus), Seehecht (Merluccius merluccius), Blaufisch (Pomatomus saltatrix), Roter Drachenkopf (Scorpaena notata), Marmorierte Rochen (Raja clavata), Glattbutt (Scophthalmus rhombus), Schermesserfisch (Xyrichtys novacula), Seebarbe (Mullus barbatus), Streifenbrasse (Spondyliosoma cantharus), Goldmakrele (Coryphaena hippurus), Rote Meerbarbe (Pagellus erythrinus), Geissbrasse (Diplodus sargus), Ringelbrasse (Diplodus annularis), Brandbrasse (Oblada melanura), Grosse Bernsteinmakrele (Lichia amia), Gabelmakrele (Trachurus trachurus), Saegebarsch (Serranus cabrilla), Schriftbarsch (Serranus scriba), Sonnenfisch (Centrolophus niger)

  **Meeresfruechte suggestions:**
  Languste (Palinurus elephas), Kaisergranat (Nephrops norvegicus), Jakobsmuschel (Pecten jacobaeus), Miesmuschel (Mytilus galloprovincialis), Venusmuschel (Venus verrucosa), Hummer (Homarus gammarus), Taschenkrabbe (Cancer pagurus), Herzmuschel (Cerastoderma edule), Meerspinne (Maja squinado), Blaue Schwimmkrabbe (Portunus pelagicus)

  **European freshwater suggestions:**
  Moderlieschen (Leucaspius delineatus), Schneider (Alburnoides bipunctatus), Schlammpeitzger (Misgurnus fossilis), Steinbeisser (Cobitis taenia), Quappe (Lota lota), Bitterling (Rhodeus amarus), Frauennerfling (Rutilus virgo), Mairenke (Alburnus mento), Perlfisch (Rutilus frisii), Ziege (Pelecus cultratus)

  **Each entry MUST have ALL fields matching the existing schema plus the new ones:**
  id, name, nicknames, scientificName, image (use "images/fish/[id].svg"), imageCredit ("Generiert / Public Domain"), family, description (2-3 German sentences), size (avgCm, maxCm, avgKg, maxKg), habitat (German text), waterTypes, techniques, baits, tips (3-5 German tips), weatherPrefs (temperature, pressure, wind, cloudCover), season (bestMonths, description), closedSeason (object or null), difficulty (1-5), catchAndRelease, minSize, category, edibility, habitatDetail

  **Data quality rules:**
  - Scientific names must be accurate (verify genus+species spelling)
  - All text in German (de-AT style, no umlauts in source - use ae, oe, ue, ss)
  - Consistent use of null for absent closedSeason
  - baits and techniques relevant to recreational angling
  - Use existing waterTypes vocabulary: "fluss", "see", "bach", "teich", "meer", "kueste", "brackwasser"
  - Tips should be practical fishing advice in German

  IMPORTANT: The resulting JSON must be valid. Entries appended to the array before the closing `]`.
  </action>
  <verify>
  Run: `powershell -Command "(Get-Content 'fishing-app/data/fish-data.json' | ConvertFrom-Json).Count"` - should return ~112 (62 + ~50).
  Run: `powershell -Command "(Get-Content 'fishing-app/data/fish-data.json' | ConvertFrom-Json) | Where-Object { $_.edibility -eq $null } | Measure-Object | Select-Object -ExpandProperty Count"` - should return 0.
  Run: `powershell -Command "(Get-Content 'fishing-app/data/fish-data.json' | ConvertFrom-Json) | Group-Object category | Format-Table Name, Count"` - verify category distribution.
  </verify>
  <done>fish-data.json contains ~112 species. All new entries have complete schema (all existing fields + edibility + habitatDetail). JSON is valid. Mix includes Adriatic saltwater, Meeresfr체chte, and European freshwater species.</done>
</task>

</tasks>

<verification>
1. fish-data.json is valid JSON (parseable without errors)
2. Total species count >= 110
3. Every entry has edibility.rating (1-5), edibility.taste, edibility.texture, edibility.preparation (array), edibility.notes
4. Every entry has habitatDetail.depthRange, habitatDetail.region, habitatDetail.structure (array)
5. No duplicate IDs
6. All scientificName fields are non-empty
</verification>

<success_criteria>
- fish-data.json expanded to ~112 species (62 existing + ~50 new)
- All 62 existing entries retrofitted with edibility and habitatDetail
- All new entries follow complete schema with no missing required fields
- JSON remains valid and parseable
- Category distribution includes salzwasser, meeresfruechte, raubfisch, friedfisch, salmonide
</success_criteria>

<output>
After completion, create `.planning/phases/03-fish-catalog-expansion/03-02-SUMMARY.md`
</output>
